<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title>Test bar and pie</title>
    </head>

    <body>
        <div id="container" style="width: 100%; height: 600px;"></div>
        <script type="text/javascript" src="js/echarts.3.8/echarts.min.js"></script>
        <script type="text/javascript">
            var dom = document.getElementById("container");
            var myChart = echarts.init(dom);
            
            var option = {
                "title": {
                    "text": "金额/月份"
                },
                "tooltip": {
                    "trigger": "item",
                    formatter:function(d){ 
                        if(d.seriesType == 'pie') {
                            return d.marker+d.name+"："+ d.value+' （'+d.percent+'%）'; 
                        } else {
                            return d.seriesName+"<br/>"+d.marker+d.name+"："+ d.value; 
                        }
                    }
                },
                "xAxis": {
                    "data": ["2017-10", "2017-11", "2017-12", "2018-01", "2018-02"]
                },
                "yAxis": {},
                "series": [{
                    "name": "采购金额",
                    "type": "bar",
                    "data": [31694, 6466, 2862, 2333060, 318],
                    "label": {
                        "normal": {
                            "show": true,
                            "position": "outside"
                        }
                    },
                    "itemStyle": {
                       normal: {
                            "color": ["#3398DB"]  
                       }
                    }
                },
                {
                    "type": "pie",
                    center: ['84%', '20%'],
                    radius: '24%',
                    z: 4,
                    "data": [{
                        "name": "iphone x",
                        "value": 2374400,
                        "percent": "100.00%"
                    }, {
                        "name": "iphone 8 plus",
                        "value": 374400,
                    }, {
                        "name": "iphone 8",
                        "value": 354400,
                    }],
                    "label": {
                        "normal":{
                            "show": true
                        }
                    },
                    "itemStyle": {
                        "emphasis": {
                            "shadowBlur": 10,
                            "shadowOffsetX": 0,
                            "shadowColor": "rgba(0, 0, 0, 0.5)"
                        }
                    }
                }]
            };
            
            myChart.on('click', function(params) {
                if('pie' == params.seriesType) {
                   alert("点击 pie"+JSON.stringify(params.data));
                }
            });

            if(option && typeof option === "object") {
                myChart.setOption(option, true);
            }
        </script>
    </body>

</html>